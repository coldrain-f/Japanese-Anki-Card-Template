<!-- ===========================================
     단어 카드 - 앞면 (일→한)
     GenerateJP2KR 필드에 값이 있을 때 생성됨
     =========================================== -->

{{#GenerateJP2KR}}
<div class="card-content">
    <!-- 메인: 일본어 단어 + 뜻 개수 -->
    <div class="main-content">
        <span class="word jp">{{Expression}}</span>
        {{#MeaningCount}}<span class="meaning-count">[{{MeaningCount}}]</span>{{/MeaningCount}}
    </div>

    <!-- Exclude 영역 (있을 경우에만 표시) -->
    {{#Exclude2}}
    <div class="exclude">
        <span class="exclude-label">除外:</span>
        <span class="exclude-tags" data-items="{{Exclude2}}"></span>
    </div>
    {{/Exclude2}}
</div>

<script>
    // Exclude 항목을 태그로 변환
    document.querySelectorAll('.exclude-tags').forEach(function (el) {
        var items = el.getAttribute('data-items');
        if (items) {
            var tags = items.split('|').map(function (item) {
                return '<span class="exclude-tag">' + item.trim() + '</span>';
            }).join('');
            el.innerHTML = tags;
        }
    });
</script>
{{/GenerateJP2KR}}